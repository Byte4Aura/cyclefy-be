enum RepairStatus {
    request_submitted
    confirmed
    in_transit
    courier_return
    returned
    completed
    failed
}

// REPAIRS
model Repair {
    id            String       @id @default(uuid()) @db.VarChar(255)
    user          User         @relation(fields: [user_id], references: [id])
    user_id       String       @db.VarChar(255)
    name          String       @db.VarChar(255)
    description   String       @db.VarChar(255)
    address       Address      @relation(fields: [address_id], references: [id])
    address_id    String       @db.VarChar(255)
    category      Category     @relation(fields: [category_id], references: [id])
    category_id   String       @db.VarChar(255)
    phone         Phone        @relation(fields: [phone_id], references: [id])
    phone_id      String       @db.VarChar(255)
    status        RepairStatus @default(request_submitted)
    status_detail String       @db.VarChar(255)
    created_at    DateTime     @default(now())
    updated_at    DateTime     @updatedAt

    images RepairImage[]
}

model RepairImage {
    id         String   @id @default(uuid()) @db.VarChar(255)
    repair     Repair   @relation(fields: [repair_id], references: [id])
    repair_id  String   @db.VarChar(255)
    image_path String   @db.VarChar(255)
    image_name String   @db.VarChar(255)
    image_size Int
    created_at DateTime @default(now())
}
